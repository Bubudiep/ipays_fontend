<div class="sub-view pd10">
  <div class="dashboard-container">
    <div class="dashboard-box">
      <div class="data">000</div>
      <div class="content">Doanh số bán ra</div>
      <div class="diff">Chưa có dữ liệu<div class="right">00<i class="fa-solid fa-arrow-up-long"></i></div></div>
    </div>
    <div class="dashboard-box">
      <div class="data">000</div>
      <div class="content">Lượng khách vào</div>
      <div class="diff">Chưa có dữ liệu<div class="right">00<i class="fa-solid fa-arrow-up-long"></i></div></div>
    </div>
    <div class="dashboard-box">
      <div class="data">000</div>
      <div class="content">Hoán đơn bán ra</div>
      <div class="diff">Chưa có dữ liệu<div class="right">00<i class="fa-solid fa-arrow-up-long"></i></div></div>
    </div>
    <div class="dashboard-box">
      <div class="data">000</div>
      <div class="content">KPI tuần</div>
      <div class="diff">Chưa có dữ liệu<div class="right">00<i class="fa-solid fa-arrow-up-long"></i></div></div>
    </div>
    <div class="dashboard-box">
      <div class="data">000</div>
      <div class="content">KPI tháng</div>
      <div class="diff">Chưa có dữ liệu<div class="right">00<i class="fa-solid fa-arrow-up-long"></i></div></div>
    </div>
  </div>
  <div class="flex g10">
    <div class="chart-Box f1">
      <div class="chart-title">Doanh số bán hàng theo phân loại</div>
      <div class="chart-input" id="trendChart"></div>
    </div>
    <div class="chart-Box w40">
      <div class="chart-title">Top bán chạy của <t id="chart_details_of">Nước</t>
      </div>
      <div class="chart-input" id="topChart"></div>
    </div>
  </div>
  <div class="flex g10 chart-list">
    <div class="chart-Box f1">
      <div class="chart-title">Danh sách nhân viên <div class="right active"><i class="fa-solid fa-thumbtack"></i></div></div>
      <div class="table-data">
        <table>
          <th>#</th>
          <th>Trạng thái</th>
          <th>Mã nhân viên</th>
          <th>Tên nhân viên</th>
          <th>Chức vụ</th>
          <th>Giờ làm việc</th>
          <th>Đơn đã nhận</th>
          <tr><td colspan="999"><null>No data</null></td></tr>
        </table>
      </div>
    </div>
    <div class="chart-Box f1">
      <div class="chart-title">Danh sách khách hàng <div class="right active"><i class="fa-solid fa-thumbtack"></i></div></div>
      <div class="table-data">
        <table>
          <th>#</th>
          <th>Tên khách hàng</th>
          <th>Phân hạng</th>
          <th>Số hóa đơn</th>
          <th>Lần cuối đặt</th>
          <th>Điểm</th>
          <th>Thân thiết</th>
          <tr><td colspan="999"><null>No data</null></td></tr>
        </table>
      </div>
    </div>
    <div class="chart-Box f1">
      <div class="chart-title">Mới tương tác gần đây <div class="right"><i class="fa-solid fa-thumbtack"></i></div></div>
      <div class="table-data">
        <table>
          <th>#</th>
          <th>Trạng thái</th>
          <th>Mã nhân viên</th>
          <th>Tên nhân viên</th>
          <th>Chức vụ</th>
          <th>Giờ làm việc</th>
          <th>Đơn đã nhận</th>
          <tr><td colspan="999"><null>No data</null></td></tr>
        </table>
      </div>
    </div>
    <div class="chart-Box f1">
      <div class="chart-title">Đơn hàng mới đây <div class="right"><i class="fa-solid fa-thumbtack"></i></div></div>
      <div class="table-data">
        <table>
          <th>#</th>
          <th>Tên khách hàng</th>
          <th>Phân hạng</th>
          <th>Số hóa đơn</th>
          <th>Lần cuối đặt</th>
          <th>Điểm</th>
          <th>Thân thiết</th>
          <tr><td colspan="999"><null>No data</null></td></tr>
        </table>
      </div>
    </div>
    <div class="chart-Box f1">
      <div class="chart-title">Khách hàng mới tới <div class="right"><i class="fa-solid fa-thumbtack"></i></div></div>
      <div class="table-data">
        <table>
          <th>#</th>
          <th>Tên khách hàng</th>
          <th>Phân hạng</th>
          <th>Số hóa đơn</th>
          <th>Lần cuối đặt</th>
          <th>Điểm</th>
          <th>Thân thiết</th>
          <tr><td colspan="999"><null>No data</null></td></tr>
        </table>
      </div>
    </div>
    <div class="chart-Box f1">
      <div class="chart-title">Phiếu xuất kho mới đây <div class="right"><i class="fa-solid fa-thumbtack"></i></div></div>
      <div class="table-data">
        <table>
          <th>#</th>
          <th>Tên khách hàng</th>
          <th>Phân hạng</th>
          <th>Số hóa đơn</th>
          <th>Lần cuối đặt</th>
          <th>Điểm</th>
          <th>Thân thiết</th>
          <tr><td colspan="999"><null>No data</null></td></tr>
        </table>
      </div>
    </div>
    <div class="chart-Box f1">
      <div class="chart-title">Phiếu nhập kho <div class="right"><i class="fa-solid fa-thumbtack"></i></div></div>
      <div class="table-data">
        <table>
          <th>#</th>
          <th>Tên khách hàng</th>
          <th>Phân hạng</th>
          <th>Số hóa đơn</th>
          <th>Lần cuối đặt</th>
          <th>Điểm</th>
          <th>Thân thiết</th>
          <tr><td colspan="999"><null>No data</null></td></tr>
        </table>
      </div>
    </div>
    <div class="chart-Box f1">
      <div class="chart-title">Tồn kho mới đây <div class="right"><i class="fa-solid fa-thumbtack"></i></div></div>
      <div class="table-data">
        <table>
          <th>#</th>
          <th>Tên khách hàng</th>
          <th>Phân hạng</th>
          <th>Số hóa đơn</th>
          <th>Lần cuối đặt</th>
          <th>Điểm</th>
          <th>Thân thiết</th>
          <tr><td colspan="999"><null>No data</null></td></tr>
        </table>
      </div>
    </div>
    <div class="chart-Box f1">
      <div class="chart-title">Sự kiện đang chạy <div class="right"><i class="fa-solid fa-thumbtack"></i></div></div>
      <div class="table-data">
        <table>
          <th>#</th>
          <th>Tên khách hàng</th>
          <th>Phân hạng</th>
          <th>Số hóa đơn</th>
          <th>Lần cuối đặt</th>
          <th>Điểm</th>
          <th>Thân thiết</th>
          <tr><td colspan="999"><null>No data</null></td></tr>
        </table>
      </div>
    </div>
    <div class="chart-Box f1">
      <div class="chart-title">Các mã giảm giá <div class="right"><i class="fa-solid fa-thumbtack"></i></div></div>
      <div class="table-data">
        <table>
          <th>#</th>
          <th>Tên khách hàng</th>
          <th>Phân hạng</th>
          <th>Số hóa đơn</th>
          <th>Lần cuối đặt</th>
          <th>Điểm</th>
          <th>Thân thiết</th>
          <tr><td colspan="999"><null>No data</null></td></tr>
        </table>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
$(document).ready(async function () {
  var data={};
  var trendData=[{
    name: 'Nước',
    type: 'column',
    data: [23, 11, 22, 27, 13, 22, 37]
  }, {
    name: 'Đồ ăn nhanh',
    type: 'area',
    data: [44, 55, 41, 67, 22, 43, 21]
  }, {
    name: 'Đồ ăn vặt',
    type: 'line',
    data: [30, 25, 36, 30, 45, 35, 64]
  }];
  var topData=[{name: 'Đã bán',
    data: [400, 430, 448, 470, 540, 580, 690, 1100, 1200, 1380]}];
  trendChart(trendData);
  topChart(topData);
  $(".right").click(function(){
    this.classList.toggle("active");
    var parent =this.parentNode.parentNode.parentNode;
    if (this.classList.contains("active")){
      parent.insertBefore(this.parentNode.parentNode, this.parentNode.parentNode.parentNode.childNodes[0]);
    } else {
      // kiểm tra số lượng active
      var count_active=0;
      for (var i=0;i<this.parentNode.parentNode.parentNode.childNodes.length;i++) {
        var item=this.parentNode.parentNode.parentNode.childNodes[i];
        if(item.localName=="div"&&item.childNodes[1].childNodes[1].classList.contains("active")){
          count_active++;
        }
      }
      console.log(count_active)
      if (count_active>0){
        parent.insertBefore(this.parentNode.parentNode, this.parentNode.parentNode.parentNode.childNodes[count_active+2]);
      }
    }
  });
});
async function topChart(series){
  console.log(series)
  var options = {
    series: series
    , chart: {
      type: 'bar',
      height: 280
    }, plotOptions: {
      bar: {
        borderRadius: 4,
        borderRadiusApplication: 'end',
        horizontal: true,
      }
    }, dataLabels: {
      enabled: false
    }, xaxis: {
      categories: ['Trà chanh', 'Chân châu đường đen', 'Quất lắc sữa','Trà chanh nha đam',
        'Sữa chua','Cocacola','Pepsi','C2','Không độ','Dưa hấu ép'],
    }
  };

  var chart = new ApexCharts(document.querySelector("#topChart"), options);
  chart.render();
}
async function trendChart(series){
  var options = {
    series: series,
    chart: {
      height: 280,
      type: 'line',
      stacked: false,
    }, stroke: {
      width: [0, 2, 5],
      curve: 'smooth'
    }, plotOptions: {
      bar: {
        borderRadius: 4,
        columnWidth: '50%'
      }
    }, fill: {
      opacity: [0.85, 0.15, 1],
      gradient: {
        inverseColors: false,
        shade: 'light',
        type: "vertical",
        opacityFrom: 0.85,
        opacityTo: 0.55,
        stops: [0, 100, 100, 100]
      }
    },
    labels: ['01/01/2003', '02/01/2003', '03/01/2003', 
    '04/01/2003', '05/01/2003', '06/01/2003', '07/01/2003'],
    markers: {
      size: 0
    }, xaxis: {
      type: 'datetime'
    }, tooltip: {
      shared: true,
      intersect: false,
      y: {
        formatter: function (y) {
          if (typeof y !== "undefined") {
            return y.toFixed(0) + " points";
          }
          return y;
    
        }
      }
    }
  };
  var chart = new ApexCharts(document.querySelector("#trendChart"), options);
  chart.render();
}
</script>